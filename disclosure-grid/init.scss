/*!

  Radancy Pattern Library: Grid Disclosure

  Contributor(s):
  Andrew Hill, Email: andrew.hill@radancy.com
  Michael "Spell" Spellacy, Email: michael.spellacy@radancy.com, Twitter: @spellacy, GitHub: michaelspellacy

  Dependencies: Sass
  Instructions: To run locally, install Sass (https://sass-lang.com/install), CL to directory this file in and run:
  sass --watch init.scss:init.css --style compressed

*/

// Variables

$base-color: #6F00EF;
$base-color-active: white;
$base-color-neutral: lightgrey;

html {

  &:focus-within {

    @media (prefers-reduced-motion: no-preference) {

      scroll-behavior: smooth;

    }

  }

}

// Note: Consider using a CSS scroll rather than a JavaScript one, when possible. Learn: https://michaelspellacy.com/pushing-buttons/

// Grid Disclosure

.disclosure-grid {
display: flex;
flex-direction: row;
flex-wrap: wrap;
justify-content: center;

  &.grid-medium {

    border: 1px red solid;

  }

  // $test: attr(data-grid-active);

    &__button {
    border: 0;
    display: block;
    margin: 0;
    padding: 2em;
    position: relative;
    text-align: center;
    width: 100%;

      .grid-pattern & {

      //  width: calc(100% / 4);

      }

      &[aria-expanded="true"] {
      background-color: #fff;

        // Arrow

        &::after {
        position: absolute;
        bottom: 0;
        left: 50%;
        display: block;
        width: 0;
        height: 0;
        margin-left: -20px;
        border-color: transparent transparent $base-color transparent;
        border-style: solid;
        border-width: 0 20px 20px 20px;
        content: "";
        }

        + .disclosure-grid__content {
        display: block;
        }

      }

    }

    &__content {
    background-color: $base-color;
    color: $base-color-active;
    display: none;
    padding: 1em;
    position: relative;

      a {
      color: inherit;
      }

    }

    &__close {
    background-color: #fff;
    border: 0;
    color: inherit;
    display: none;
    height: 40px;
    padding: 0;
    position: absolute;
    right: 1em;
    top: 1em;
    width: 40px;

      .grid-pattern & {
      display: block;
      }

    }

    &__button, &__content, &__close {

      &:focus {
      outline-color: currentColor;
      outline-offset: -5px;
      outline-style: solid;
      outline-width: 1px;
      }

    }

    &__close {

      &:focus {

        outline-offset: 5px;

      }

    }

}
